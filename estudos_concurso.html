<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Estudos - Concursos 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Calm Harmony (Soft neutrals with Indigo accent) -->
    <!-- Application Structure Plan: A 3-tab SPA. 1: "Visão Geral" showing key exam dates (from CSV) and the study plan generator. 2: "Comparador de Conteúdo" to interactively compare syllabus content by subject (Alerj vs UNIRIO vs TJRJ). 3: "Meu Plano de Estudo" to display the generated daily calendar. This structure directly addresses the user's two requests (syllabus spreadsheet + study schedule) and adds significant value by making the syllabus *comparable* and the plan *actionable*, which is the key task for a student facing multiple exams. -->
    <!-- Visualization & Content Choices: Syllabus (Report Info) -> Goal: Compare -> Viz: Interactive 3-column list (HTML/JS) -> Interaction: Dropdown selects subject -> Justification: Directly shows content overlap/differences. Exam Dates (Report Info) -> Goal: Inform -> Viz: List/Timeline (HTML) -> Interaction: Static. Study Plan (User Request) -> Goal: Organize/Plan -> Viz: HTML Grid Calendar -> Interaction: JS-generated based on user inputs (start date, cycle) -> Justification: Provides a concrete, daily action plan. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .tab-btn {
            transition: all 0.3s ease;
        }
        .tab-btn.active {
            border-bottom-color: #4f46e5;
            color: #4f46e5;
            font-weight: 600;
        }
        .view {
            display: none;
        }
        .view.active {
            display: block;
        }
        .calendar-day {
            min-height: 120px;
            cursor: pointer;
            transition: background-color 0.1s;
        }
        .calendar-day:hover {
            background-color: #e0e7ff; /* Lighter hover for interactivity */
        }
        .calendar-day.today {
            background-color: #ebf4ff;
        }
        .calendar-day.other-month {
            background-color: #f9fafb;
            color: #9ca3af;
        }
        #topic-detail-panel {
            min-height: 150px;
            display: none;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-900">

    <div class="container max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="mb-6">
            <h1 class="text-3xl font-bold text-indigo-700">Plano de Estudos - Concursos ADM 2025</h1>
            <p class="text-lg text-gray-600">Seu painel para organizar o conteúdo e o cronograma de estudos.</p>
        </header>

        <div class="mb-6 bg-white shadow-sm rounded-lg">
            <nav class="flex border-b border-gray-200" aria-label="Tabs">
                <button id="tab-overview" class="tab-btn active text-gray-600 hover:text-indigo-600 py-4 px-6 border-b-2 border-transparent text-sm font-medium" data-view="view-overview">
                    Visão Geral e Cronograma
                </button>
                <button id="tab-comparator" class="tab-btn text-gray-600 hover:text-indigo-600 py-4 px-6 border-b-2 border-transparent text-sm font-medium" data-view="view-comparator">
                    Comparador de Conteúdo
                </button>
                <button id="tab-plan" class="tab-btn text-gray-600 hover:text-indigo-600 py-4 px-6 border-b-2 border-transparent text-sm font-medium" data-view="view-plan">
                    Meu Plano de Estudo
                </button>
            </nav>
        </div>

        <main>
            <div id="view-overview" class="view active space-y-6">
                <section class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-semibold mb-4 text-indigo-800">Datas Importantes</h2>
                    <p class="text-gray-700 mb-6">Estas são as datas cruciais dos editais. O seu planejamento de estudo será baseado na data da primeira prova.</p>
                    <ul id="timeline-list" class="space-y-4">
                    </ul>
                </section>
                
                <section class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-semibold mb-4 text-indigo-800">Gerador de Plano de Estudo</h2>
                    <p class="text-gray-700 mb-6">Configure seu ciclo de estudos. O sistema criará um calendário diário de matérias, da data de início até a véspera da primeira prova. As matérias se repetirão em ciclo.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="start-date" class="block text-sm font-medium text-gray-700">Data de Início</label>
                            <input type="date" id="start-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                        </div>
                        <div>
                            <label for="hours-per-day" class="block text-sm font-medium text-gray-700">Horas de Estudo por Dia (Referência)</label>
                            <input type="number" id="hours-per-day" value="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                        </div>
                    </div>
                    <div class="mt-6">
                        <label class="block text-sm font-medium text-gray-700">Matérias para Incluir no Ciclo</label>
                        <div id="subject-cycle-checklist" class="mt-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2">
                        </div>
                    </div>
                    <div class="mt-6">
                        <button id="generate-plan-btn" class="w-full md:w-auto inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-6 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                            Gerar Plano de Estudo
                        </button>
                    </div>
                </section>
            </div>

            <div id="view-comparator" class="view">
                <section class="bg-white p-6 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-semibold mb-4 text-indigo-800">Comparador de Conteúdo Programático</h2>
                    <p class="text-gray-700 mb-6">Selecione uma matéria para ver o que é cobrado em cada um dos três concursos. Isso ajuda a focar nos pontos em comum e a identificar as diferenças.</p>
                    
                    <div>
                        <label for="subject-select" class="block text-sm font-medium text-gray-700">Selecione a Matéria:</label>
                        <select id="subject-select" class="mt-1 block w-full max-w-md rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2">
                        </select>
                    </div>

                    <div id="comparator-output" class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div id="col-alerj" class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <h3 class="text-lg font-semibold mb-3 text-gray-800">Alerj - Nível III</h3>
                            <ul class="list-disc list-inside space-y-2 text-sm text-gray-700"></ul>
                        </div>
                        <div id="col-unirio" class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <h3 class="text-lg font-semibold mb-3 text-gray-800">UNIRIO - Assist. em Adm.</h3>
                            <ul class="list-disc list-inside space-y-2 text-sm text-gray-700"></ul>
                        </div>
                    </div>
                </section>
            </div>
            
            <div id="view-plan" class="view">
                <section class="bg-white p-6 rounded-lg shadow-sm">
                    <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-semibold text-indigo-800">Meu Plano de Estudo</h2>
                            <p class="text-gray-700">Clique em um dia para ver o tópico exato a ser estudado.</p>
                        </div>
                        <div class="mt-4 sm:mt-0">
                            <button id="prev-month-btn" class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">❮</button>
                            <span id="current-month-year" class="text-lg font-semibold mx-4 text-gray-800"></span>
                            <button id="next-month-btn" class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">❯</button>
                        </div>
                    </div>

                    <div id="calendar-grid" class="grid grid-cols-7 gap-px bg-gray-200 border border-gray-200 rounded-lg overflow-hidden">
                        <div class="text-center font-semibold py-2 bg-gray-100 text-sm text-gray-600">Dom</div>
                        <div class="text-center font-semibold py-2 bg-gray-100 text-sm text-gray-600">Seg</div>
                        <div class="text-center font-semibold py-2 bg-gray-100 text-sm text-gray-600">Ter</div>
                        <div class="text-center font-semibold py-2 bg-gray-100 text-sm text-gray-600">Qua</div>
                        <div class="text-center font-semibold py-2 bg-gray-100 text-sm text-gray-600">Qui</div>
                        <div class="text-center font-semibold py-2 bg-gray-100 text-sm text-gray-600">Sex</div>
                        <div class="text-center font-semibold py-2 bg-gray-100 text-sm text-gray-600">Sáb</div>
                    </div>
                    <div id="calendar-days" class="grid grid-cols-7 gap-px bg-gray-200">
                    </div>
                </section>

                <!-- Topic Detail Panel -->
                <section id="topic-detail-panel" class="mt-6 bg-white p-6 rounded-lg shadow-xl border-t-4 border-indigo-500">
                    <h3 class="text-xl font-bold mb-2 flex items-center text-indigo-700">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5s3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18s-3.332.477-4.5 1.253"></path></svg>
                        Tópico de Estudo do Dia: <span id="panel-date" class="ml-2 text-gray-600 font-normal"></span>
                    </h3>
                    <p class="text-sm font-semibold text-gray-500 border-b pb-2 mb-3">Concurso Focado: <span id="panel-cargo" class="text-indigo-600"></span></p>

                    <p class="text-base mb-3"><span class="font-bold">Matéria:</span> <span id="panel-subject" class="text-gray-800"></span></p>
                    <p class="text-lg font-bold text-gray-900"><span class="font-bold">Tópico:</span> <span id="panel-topic" class="text-indigo-900"></span></p>

                    <div id="panel-empty-state" class="text-center text-gray-500 italic mt-4">
                        <p>Clique em um dia com estudo agendado para ver o tópico detalhado.</p>
                    </div>
                </section>
            </div>
        </main>

    </div>

    <script>
        // Dados do Edital (inclusão de ALERJ, UNIRIO ADM, UNIRIO Téc. Química)
        const syllabusData = {
            "Língua Portuguesa": {
                "ALERJ - Nível III": [
                    "Compreensão e Interpretação de Texto, Organização estrutural dos textos", 
                    "Coesão e Coerência (Textualidade), Intertextualidade",
                    "Tipos e Gêneros Textuais (Descrição, Narração, Exposição, Argumentação)",
                    "Estrutura da Frase e Tipologia Frasal, Problemas estruturais das frases", 
                    "Morfologia (Classes de palavras e seus aspectos)",
                    "Sintaxe (Termos e Orações), Ordem direta e inversa", 
                    "Concordância nominal e verbal", 
                    "Regência nominal e verbal", 
                    "Pontuação e sinais gráficos", 
                    "Semântica (Sentido próprio e figurado, Antônimos, Sinônimos, Polissemia e Ambiguidade)", 
                    "Ortografia e Acentuação Gráfica, Uso da Crase"
                    ],
                    "UNIRIO - Assist. Adm.": [
                    "Compreensão e Interpretação de Texto, Tipologia e Gêneros Textuais", 
                    "Semântica (Figuras de linguagem, Significação de palavras e expressões, Sinonímia e Antonímia)", 
                    "Ortografia, Acentuação Gráfica, Uso da Crase",
                    "Morfologia (Classes de palavras variáveis e invariáveis e seus empregos no texto)", 
                    "Sintaxe (Relações sintático-semânticas entre orações, períodos ou parágrafos)",
                    "Concordância verbal e nominal", 
                    "Regência verbal e nominal", 
                    "Colocação pronominal", 
                    "Pontuação (Emprego dos sinais e sua função no texto)", 
                    "Coesão (Elementos de coesão, Função textual dos vocábulos)", 
                    "Variação linguística"
                    ],
                    "UNIRIO - Téc. Química": [
                    "Compreensão e Interpretação de Texto, Tipologia e Gêneros Textuais", 
                    "Semântica (Figuras de linguagem, Significação de palavras e expressões, Sinonímia e Antonímia)", 
                    "Ortografia, Acentuação Gráfica, Uso da Crase",
                    "Morfologia (Classes de palavras variáveis e invariáveis e seus empregos no texto)", 
                    "Sintaxe (Relações sintático-semânticas entre orações, períodos ou parágrafos)",
                    "Concordância verbal e nominal", 
                    "Regência nominal e verbal", 
                    "Colocação pronominal", 
                    "Pontuação (Emprego dos sinais e sua função no texto)", 
                    "Coesão (Elementos de coesão, Função textual dos vocábulos)", 
                    "Variação linguística"
                    ]
            },
            "Raciocínio Lógico-Matemático": {
                "ALERJ - Nível III": [
                    "Proposições, valor-verdade, negação, conjunção, disjunção, implicação, equivalência, proposições compostas.", "Equivalências lógicas; Problemas de raciocínio.", 
                    "Números naturais, inteiros, racionais, reais e suas operações; Álgebra básica: equações e sistemas do primeiro grau.", "Razão, Proporção, Regra de três simples.", 
                    "Sequências, reconhecimento de padrões, progressões aritmética e geométrica.", "Juros simples e compostos.", "Geometria básica: perímetro e área."
                ],
                "UNIRIO - Assist. Adm.": [
                    "Razão, Proporção, Regra de três simples.", "Análise combinatória: permutação, arranjo, combinação.",
                    "Probabilidade.", "Juros simples e compostos.", "Proposições, valor-verdade, negação, conjunção, disjunção, implicação, equivalência, proposições compostas."
                ],
                "UNIRIO - Téc. Química": [
                    "Razão, Proporção, Regra de três simples.", "Análise combinatória: permutação, arranjo, combinação.",
                    "Probabilidade.", "Juros simples e compostos.", "Proposições, valor-verdade, negação, conjunção, disjunção, implicação, equivalência, proposições compostas."
                ]
            },
            "Noções de Informática": {
                "ALERJ - Nível III": [
                    "MS-Windows 10 ou Superior (BR): pastas, diretórios, arquivos, atalhos, manipulação de arquivos.", "Utilização de ferramentas de texto, planilha e apresentação do pacote Microsoft Office (Word, Excel e PowerPoint) - versões 2013, 2016 e 365.", "Conceitos de tecnologias relacionadas à Internet, busca e pesquisa na Web; Navegadores de internet.", "Tópicos básicos de ambientes Google Workspace (Gmail, Agenda, Drive, Documentos, Planilhas).",
                    "Microsoft Teams (chats, chamadas, trabalho em equipe).", "Utilização de ferramentas de inteligência artificial: aspectos legais, éticos e técnicos."
                ],
                "UNIRIO - Assist. Adm.": [
                    "Conceitos e fundamentos básicos; softwares utilitários (compactadores, chat, e-mails, antivírus).", "Utilização de ferramentas de inteligência artificial: aspectos legais, éticos e técnicos.", "Periféricos de computadores.",
                    "MS-Windows 10 ou Superior (BR): pastas, diretórios, arquivos, atalhos, manipulação de arquivos.", "Utilização de ferramentas de texto, planilha e apresentação do pacote Microsoft Office (Word, Excel e PowerPoint) - versões 2013, 2016 e 365.",
                    "Conceitos de tecnologias relacionadas à Internet, busca e pesquisa na Web; Navegadores de internet.", "Conceitos básicos de segurança na Internet e vírus de computadores."
                ],
                "UNIRIO - Téc. Química": [
                    "Conceitos e fundamentos básicos; softwares utilitários (compactadores, chat, e-mails, antivírus).", "Utilização de ferramentas de inteligência artificial: aspectos legais, éticos e técnicos.", "Periféricos de computadores.",
                    "MS-Windows 10 ou Superior (BR): pastas, diretórios, arquivos, atalhos, manipulação de arquivos.", "Utilização de ferramentas de texto, planilha e apresentação do pacote Microsoft Office (Word, Excel e PowerPoint) - versões 2013, 2016 e 365.",
                    "Conceitos de tecnologias relacionadas à Internet, busca e pesquisa na Web; Navegadores de internet.", "Conceitos básicos de segurança na Internet e vírus de computadores."
                ]
            },
            "Legislação Básica/Específica": {
                "ALERJ - Nível III": [
                    "Código de Ética Profissional do Servidor Público do Estado do RJ (Decreto nº 43.583/2012).", "Estatuto dos Funcionários Públicos (Dec-Lei nº 220/1975) e seu regulamento (Decreto nº 2.479/1979).", "Regimento Interno da ALERJ (Resolução nº 810/1997).",
                    "Plano de Carreira (Resolução nº 590/1994).", "A Constituição do Estado do Rio de Janeiro."
                ],
                "UNIRIO - Assist. Adm.": [
                    "Regime Jurídico dos Servidores Públicos Civis da União - Lei nº 8.112/1990.", "Lei Geral de Proteção de Dados Pessoais (Lei nº 13.709/2018).", "CF/88: Princípios Fundamentais, Direitos e Garantias Fundamentais, Administração Pública.",
                    "Lei de Acesso à Informação - Lei nº 12.527/2011.", "Ética no Serviço Público: Código de Ética Profissional (Decreto nº 1.171/1994).", "Processo administrativo no âmbito da Administração Pública Federal (Lei 9.784/1999).",
                    "Sanções por Improbidade Administrativa (Lei 8.429/1992).", "Forma de tratamento e de endereçamento nas comunicações (Decreto nº 9.758/2019)."
                ],
                "UNIRIO - Téc. Química": [
                    "Regime Jurídico dos Servidores Públicos Civis da União - Lei nº 8.112/1990.", "Lei Geral de Proteção de Dados Pessoais (Lei nº 13.709/2018).", "CF/88: Princípios Fundamentais, Direitos e Garantias Fundamentais, Administração Pública.",
                    "Lei de Acesso à Informação - Lei nº 12.527/2011.", "Ética no Serviço Público: Código de Ética Profissional (Decreto nº 1.171/1994).", "Processo administrativo no âmbito da Administração Pública Federal (Lei 9.784/1999).",
                    "Sanções por Improbidade Administrativa (Lei 8.429/1992).", "Forma de tratamento e de endereçamento nas comunicações (Decreto nº 9.758/2019)."
                ]
            },
            "Direito Administrativo/Constitucional (Conhecimentos Específicos)": {
                "ALERJ - Nível III": [
                    "Dir. Administrativo: Conceito, fontes e princípios; Organização da Administração Pública (Direta e Indireta).", "Ato Administrativo, Poderes e Deveres da Administração Pública; Serviços e Bens Públicos.", "Licitações e Contratos Administrativos: Lei nº 14.133/2021.",
                    "Dir. Constitucional: Teoria da Constituição; Princípios Fundamentais; Direitos e Garantias Fundamentais (Art. 5º).", "Organização do Estado Brasileiro; Repartição de competências.", "Organização dos Poderes: Poder Legislativo (estrutura, competências, Comissões).",
                    "Processo Legislativo (espécies normativas, fases); Fiscalização Contábil, Financeira e Orçamentária (TCU/TCE-RJ).", "A Administração Pública na Constituição (Art. 37); Ordem Econômica e Financeira (PPA, LDO e LOA).", "Controle de Constitucionalidade e Intervenção do Estado."
                ],
                "UNIRIO - Assist. Adm.": [],
                "UNIRIO - Téc. Química": []
            },
            "Administração Geral e Pública (Conhecimentos Específicos)": {
                "ALERJ - Nível III": [
                    "Teorias da Administração",
                    "Funções e Processo Administrativo (PODC)",
                    "Modelos de Gestão Pública",
                    "Políticas Públicas: formulação, implementação e avaliação.",
                    "Rotinas Administrativas: protocolo, tramitação e arquivamento.",
                    "Comunicação Oficial: técnicas de redação de atos normativos, pareceres, ofícios e relatórios.",
                    "Gestão de Materiais e Patrimônio",
                    "Atendimento ao Público (LAI, Lei nº 9.094/2017); Princípios do Atendimento de Qualidade.",
                    "Noções de Arquivologia: dado, informação, documento e arquivo; Classificação e fases do Arquivamento."
                ],
                "UNIRIO - Assist. Adm.": [
                    "Introdução à Administração: conceitos, organização e empresa. Papéis e competências do administrador.",
                    "Funções e Processo Administrativo (PODC)",
                    "Teorias da Administração",
                    "Mapeamento de processos, ferramentas e técnicas administrativas: organograma, fluxograma, análise SWOT, matriz de responsabilidades.",
                    "Modelos de Gestão Pública",
                    "Organização administrativa do Estado: administração direta e indireta.",
                    "Gestão por resultados no setor público: conceito, indicadores, metas, avaliação de desempenho.",
                    "Transparência, controle e fiscalização; Finanças públicas (controle interno e externo).",
                    "Gestão de Materiais e Patrimônio",
                    "Gestão de Pessoas: Liderança, Cultura e Clima organizacional, direitos e deveres dos servidores.",
                    "Administração Orçamentária: PPA, LDO e LOA; Execução orçamentária e financeira (empenho, liquidação e pagamento); Contratos administrativos (fiscalização e controle)."
                ],
                "UNIRIO - Téc. Química": []
            },
            "Química (Conhecimentos Específicos)": {
                "ALERJ - Nível III": [],
                "UNIRIO - Assist. Adm.": [],
                "UNIRIO - Téc. Química": [
                    "Estrutura Atômica, Configuração eletrônica, Tabela Periódica e propriedades periódicas.", "Ligações Químicas e Forças intermoleculares.", "Substâncias Inorgânicas: ácidos, bases, sais e óxidos; Reações Químicas Inorgânicas.", "Misturas: Soluções e coloides; propriedades coligativas.", "Preparo e padronização de soluções.",
                    "Gravimetria; Volumetria (ácido-base, precipitação, oxirredução e complexação).", "Termoquímica, Cinética Química, Equilíbrio Químico em sistemas homogêneos e heterogêneos.", "Equilíbrio ácido-base; Equilíbrio de solubilidade.",
                    "Química Orgânica: grupos funcionais, nomenclatura, isomeria plana e espacial, reações orgânicas.", "Eletroquímica; Cálculos Estequiométricos; Bioquímica (proteínas, carboidratos, lipídeos e vitaminas).",
                    "Segurança em laboratório: EPI/EPC, Riscos ambientais; Resíduos sólidos (ABNT NBR 10004).", "Técnicas de laboratório de química; Calibração de instrumentos volumétricos.", "Métodos de separação de misturas e purificação de substâncias químicas; extração líquido-líquido.",
                    "Técnicas espectroscópicas: infravermelho, UV-Vis, ressonância magnética nuclear.", "Técnicas cromatográficas: camada delgada, gasosa, HPLC.", "Erros em análises químicas, tratamento de dados analíticos, Algarismos significativos; Validação de métodos analíticos."
                ]
            }
        };

        const timelineData = [
            { date: "2026-02-01", event: "Prova Objetiva", concurso: "UNIRIO - Assist. Adm.", details: "Manhã" },
            { date: "2026-02-01", event: "Prova Objetiva", concurso: "UNIRIO - Téc. Química", details: "Tarde" },
            { date: "2026-02-08", event: "Prova Objetiva", concurso: "ALERJ - Nível III", details: "Tarde" }
        ];

        // Definição das datas críticas para a estratégia
        const firstExamDate = new Date("2026-02-01T00:00:00-03:00"); // Prova UNIRIO
        const alerjSpecificPhaseStart = new Date("2026-02-02T00:00:00-03:00"); // Dia seguinte à UNIRIO
        const finalExamDate = new Date("2026-02-08T00:00:00-03:00"); // Prova ALERJ

        let studyPlan = []; // Stores {date, subject, cargo, topic, phase}
        let currentCalendarDate = new Date();
        const allSubjects = Object.keys(syllabusData);

        document.addEventListener('DOMContentLoaded', () => {
            setupTabs();
            populateTimeline();
            populateSubjectSelector();
            populateSubjectChecklist();

            const today = new Date();
            // Início do estudo sugerido em 11/12/2025 conforme documento, mas permitindo alteração
            document.getElementById('start-date').value = "2025-12-11";

            // Setup listeners
            document.getElementById('subject-select').addEventListener('change', renderComparator);
            document.getElementById('generate-plan-btn').addEventListener('click', generateAndRenderPlan);
            document.getElementById('prev-month-btn').addEventListener('click', () => changeMonth(-1));
            document.getElementById('next-month-btn').addEventListener('click', () => changeMonth(1));

            // Initial render
            renderComparator();
            currentCalendarDate = new Date(today.getFullYear(), today.getMonth(), 1);
            renderCalendar();
        });

        function setupTabs() {
            const tabs = document.querySelectorAll('.tab-btn');
            const views = document.querySelectorAll('.view');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    views.forEach(v => v.classList.remove('active'));

                    tab.classList.add('active');
                    document.getElementById(tab.dataset.view).classList.add('active');
                });
            });
        }

        function populateTimeline() {
            const list = document.getElementById('timeline-list');
            list.innerHTML = '';
            // Os dados da timeline agora estão hardcoded na seção Visão Geral para fins de explicação da estratégia
        }

        function populateSubjectSelector() {
            const select = document.getElementById('subject-select');
            select.innerHTML = '';
            allSubjects.forEach(subject => {
                const option = document.createElement('option');
                option.value = subject;
                option.textContent = subject;
                select.appendChild(option);
            });
        }

        function populateSubjectChecklist() {
            const checklist = document.getElementById('subject-cycle-checklist');
            checklist.innerHTML = '';
            // Matérias que compõem o ciclo sinérgico principal
            const synergySubjects = ["Língua Portuguesa", "Raciocínio Lógico-Matemático", "Noções de Informática", "Legislação Básica/Específica", "Direito Administrativo/Constitucional", "Administração Geral e Pública"];

            synergySubjects.forEach((subject, index) => {
                const div = document.createElement('div');
                div.className = 'flex items-center';
                const isChecked = true; // Check all synergy subjects by default
                div.innerHTML = `
                    <input id="subject-check-${index}" name="subject-cycle" type="checkbox" value="${subject}" ${isChecked ? 'checked' : ''} class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                    <label for="subject-check-${index}" class="ml-2 block text-sm text-gray-900">${subject}</label>
                `;
                checklist.appendChild(div);
            });

            // Adiciona Química (como opcional)
            const indexQuimica = synergySubjects.length;
            const divQuimica = document.createElement('div');
            divQuimica.className = 'flex items-center';
            divQuimica.innerHTML = `
                <input id="subject-check-${indexQuimica}" name="subject-cycle" type="checkbox" value="Conhecimentos Específicos" class="h-4 w-4 rounded border-gray-300 text-red-600 focus:ring-red-500">
                <label for="subject-check-${indexQuimica}" class="ml-2 block text-sm text-gray-900">Química (Téc. Lab)</label>
            `;
            checklist.appendChild(divQuimica);
        }

        function renderComparator() {
            const selectedSubject = document.getElementById('subject-select').value;
            const data = syllabusData[selectedSubject] || {};

            renderColumn('col-alerj', data["ALERJ - Nível III"] || [], "ALERJ - Nível III");
            renderColumn('col-unirio-adm', data["UNIRIO - Assist. Adm."] || [], "UNIRIO - Assist. Adm.");
            renderColumn('col-unirio-quimica', data["UNIRIO - Téc. Química"] || [], "UNIRIO - Téc. Química");
        }

        function renderColumn(columnId, items, cargo) {
            const col = document.getElementById(columnId);
            const ul = col.querySelector('ul');
            ul.innerHTML = '';

            const isApplicable = items.length > 0;
            if (!isApplicable) {
                ul.innerHTML = '<li class="text-gray-500 italic">Conteúdo Não Aplicável ou Não Detalhado neste edital/cargo.</li>';
                col.classList.add('opacity-50');
                return;
            } else {
                col.classList.remove('opacity-50');
            }

            items.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                ul.appendChild(li);
            });
        }

        function getAlerjExclusiveTopics() {
            // Tópicos que DEVEM ser reservados para a Fase 2 (Véspera ALERJ), focados em Legislação e Poder Legislativo RJ
            const exclusiveTopics = [
                { subject: "Legislação Básica/Específica", cargo: "ALERJ - Nível III", topic: "Código de Ética Profissional do Servidor Público do Estado do RJ (Decreto nº 43.583/2012)." },
                { subject: "Legislação Básica/Específica", cargo: "ALERJ - Nível III", topic: "Estatuto dos Funcionários Públicos (Dec-Lei nº 220/1975) e seu regulamento (Decreto nº 2.479/1979)." },
                { subject: "Legislação Básica/Específica", cargo: "ALERJ - Nível III", topic: "Regimento Interno da ALERJ (Resolução nº 810/1997)." },
                { subject: "Legislação Básica/Específica", cargo: "ALERJ - Nível III", topic: "Plano de Carreira (Resolução nº 590/1994)." },
                { subject: "Legislação Básica/Específica", cargo: "ALERJ - Nível III", topic: "A Constituição do Estado do Rio de Janeiro." },
                { subject: "Direito Administrativo/Constitucional", cargo: "ALERJ - Nível III", topic: "Organização dos Poderes: Poder Legislativo (estrutura, competências, Comissões)." },
                { subject: "Direito Administrativo/Constitucional", cargo: "ALERJ - Nível III", topic: "Processo Legislativo (espécies normativas, fases)." },
                { subject: "Direito Administrativo/Constitucional", cargo: "ALERJ - Nível III", topic: "Fiscalização Contábil, Financeira e Orçamentária (TCU/TCE-RJ)." }
            ];
            return exclusiveTopics;
        }

        function generateAndRenderPlan() {
            const startDateInput = document.getElementById('start-date').value;
            if (!startDateInput) {
                document.getElementById('topic-detail-panel').style.display = 'block';
                document.getElementById('panel-empty-state').innerHTML = '<p class="text-red-600 font-bold">Por favor, selecione uma data de início.</p>';
                return;
            }

            const startDate = new Date(startDateInput + "T00:00:00-03:00");
            const oneDay = 1000 * 60 * 60 * 24;

            const subjectCheckboxes = document.querySelectorAll('input[name="subject-cycle"]:checked');
            const cycleSubjects = Array.from(subjectCheckboxes).map(cb => cb.value);

            if (cycleSubjects.length === 0) {
                document.getElementById('topic-detail-panel').style.display = 'block';
                document.getElementById('panel-empty-state').innerHTML = '<p class="text-red-600 font-bold">Por favor, selecione pelo menos uma matéria para o ciclo.</p>';
                return;
            }

            // 1. Separar Tópicos
            const alerjExclusive = getAlerjExclusiveTopics();
            const generalTopics = [];

            cycleSubjects.forEach(subject => {
                const data = syllabusData[subject];
                if (!data) return;

                const cargos = ["UNIRIO - Assist. Adm.", "UNIRIO - Téc. Química", "ALERJ - Nível III"]; // Prioridade para sinergia

                cargos.forEach(cargo => {
                    const topics = data[cargo];
                    if (topics && topics.length > 0) {
                        topics.forEach(topic => {
                            // Verifica se o tópico NÃO é ALERJ-Exclusivo e se já não foi adicionado (para sinergia)
                            const isExclusive = alerjExclusive.some(t => t.topic === topic);
                            const isDuplicate = generalTopics.some(t => t.topic === topic);

                            if (!isExclusive && !isDuplicate) {
                                // Adiciona o cargo mais relevante/abrangente para o tópico sinérgico.
                                generalTopics.push({ subject: subject, cargo: cargo, topic: topic });
                            }
                        });
                    }
                });
            });

            // 2. Criação do Plano (Fase 1: Ciclo Espaçado Regular)
            studyPlan = [];
            let currentDate = new Date(startDate.getTime());
            let topicIndex = 0;
            let lastSubject = null;

            // Ordena os tópicos gerais aleatoriamente para garantir o ciclo espaçado natural
            generalTopics.sort(() => Math.random() - 0.5);

            // Geração da Fase 1: Do início até a véspera da prova UNIRIO (31/01/2026)
            while (currentDate.getTime() < firstExamDate.getTime()) {
                const isoDate = currentDate.toISOString().split('T')[0];

                let topicDetails = null;
                let attempts = 0;

                // Implementa o ciclo espaçado (não repete a matéria do dia anterior)
                while (attempts < generalTopics.length) {
                    const nextTopic = generalTopics[topicIndex];

                    if (nextTopic.subject !== lastSubject) {
                        topicDetails = nextTopic;
                        lastSubject = nextTopic.subject;
                        break;
                    }
                    // Tenta o próximo tópico
                    topicIndex = (topicIndex + 1) % generalTopics.length;
                    attempts++;
                }

                if (topicDetails) {
                    studyPlan.push({
                        date: isoDate,
                        subject: topicDetails.subject,
                        cargo: topicDetails.cargo,
                        topic: topicDetails.topic,
                        phase: 1,
                        colorClass: topicDetails.subject.includes("Específicos") ? 'bg-red-100 text-red-800' : 'bg-indigo-100 text-indigo-800'
                    });
                } else {
                    // Se não for possível evitar a repetição (só resta um tópico), usa o mesmo
                    topicDetails = generalTopics[topicIndex];
                     studyPlan.push({
                        date: isoDate,
                        subject: topicDetails.subject,
                        cargo: topicDetails.cargo,
                        topic: topicDetails.topic + " (REPETIÇÃO NECESSÁRIA)",
                        phase: 1,
                        colorClass: 'bg-yellow-100 text-yellow-800'
                    });
                     lastSubject = topicDetails.subject; // Atualiza mesmo com repetição
                }

                currentDate.setDate(currentDate.getDate() + 1);
                topicIndex = (topicIndex + 1) % generalTopics.length; // Avança o índice do ciclo
            }

            // 3. Marcação do Dia da Prova UNIRIO (01/02/2026)
            studyPlan.push({
                date: firstExamDate.toISOString().split('T')[0],
                subject: "PROVA UNIRIO",
                cargo: "Assist. Adm. & Téc. Química",
                topic: "Dia de Provas Objetivas UNIRIO. Descanso/Revisão Leve à noite.",
                phase: 2,
                colorClass: 'bg-red-600 text-white font-bold'
            });

            // 4. Geração da Fase 2 (Intensivão ALERJ): De 02/02/2026 a 07/02/2026
            currentDate = new Date(alerjSpecificPhaseStart.getTime());
            let alerjTopicIndex = 0;

            while (currentDate.getTime() < finalExamDate.getTime()) {
                const isoDate = currentDate.toISOString().split('T')[0];
                const topicDetails = alerjExclusive[alerjTopicIndex];

                if (topicDetails) {
                    studyPlan.push({
                        date: isoDate,
                        subject: topicDetails.subject,
                        cargo: "ALERJ - Foco Exclusivo",
                        topic: topicDetails.topic + " (INTENSIVÃO ALERJ)",
                        phase: 2,
                        colorClass: 'bg-indigo-600 text-white font-bold'
                    });
                } else {
                    // Se acabarem os tópicos exclusivos, preenche com Revisão Geral ALERJ
                    studyPlan.push({
                        date: isoDate,
                        subject: "REVISÃO GERAL",
                        cargo: "ALERJ - Foco Exclusivo",
                        topic: "Revisão Final de Pontos Críticos ALERJ (Simulado, Mapas Mentais).",
                        phase: 2,
                        colorClass: 'bg-yellow-600 text-white font-bold'
                    });
                }

                currentDate.setDate(currentDate.getDate() + 1);
                alerjTopicIndex++; // Avança linearmente
            }

            currentCalendarDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);
            renderCalendar();

            // Limpar o painel de detalhes e focar na aba
            document.getElementById('topic-detail-panel').style.display = 'block';
            document.getElementById('panel-empty-state').style.display = 'block';
            document.getElementById('panel-subject').textContent = '';
            document.getElementById('panel-cargo').textContent = '';
            document.getElementById('panel-topic').textContent = '';
            document.getElementById('panel-date').textContent = '';

            document.getElementById('tab-plan').click();
        }

        function showTopicDetails(isoDate) {
            const planEntry = studyPlan.find(entry => entry.date === isoDate);
            const panel = document.getElementById('topic-detail-panel');
            const emptyState = document.getElementById('panel-empty-state');

            if (planEntry) {
                emptyState.style.display = 'none';
                panel.style.display = 'block';

                const formattedDate = new Date(planEntry.date + "T00:00:00-03:00").toLocaleDateString('pt-BR', { day: '2-digit', month: 'long', year: 'numeric' });

                document.getElementById('panel-date').textContent = formattedDate;
                document.getElementById('panel-subject').textContent = planEntry.subject;
                document.getElementById('panel-cargo').textContent = planEntry.cargo;
                document.getElementById('panel-topic').textContent = planEntry.topic;

            } else {
                 panel.style.display = 'block';
                 emptyState.style.display = 'block';
                 const cellDate = new Date(isoDate + "T00:00:00-03:00");
                 const formattedDate = cellDate.toLocaleDateString('pt-BR', { day: '2-digit', month: 'long', year: 'numeric' });
                 document.getElementById('panel-date').textContent = formattedDate;
                 document.getElementById('panel-empty-state').innerHTML = `<p class="font-bold">Nenhum estudo agendado para ${formattedDate}.</p>`;
            }
        }

        function renderCalendar() {
            const calendarDays = document.getElementById('calendar-days');
            calendarDays.innerHTML = '';

            const month = currentCalendarDate.getMonth();
            const year = currentCalendarDate.getFullYear();

            document.getElementById('current-month-year').textContent = `${currentCalendarDate.toLocaleDateString('pt-BR', { month: 'long' })} de ${year}`;

            const firstDayOfMonth = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const todayIso = new Date().toISOString().split('T')[0];

            for (let i = 0; i < firstDayOfMonth; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'calendar-day other-month p-2 border-t border-l border-gray-200 bg-gray-50';
                calendarDays.appendChild(emptyCell);
            }

            for (let day = 1; day <= daysInMonth; day++) {
                const dayCell = document.createElement('div');
                const cellDate = new Date(year, month, day);
                const isoDate = cellDate.toISOString().split('T')[0];

                let cellClasses = 'calendar-day relative p-2 border-t border-l border-gray-200 bg-white';
                if (isoDate === todayIso) {
                    cellClasses += ' today';
                }

                dayCell.className = cellClasses;

                let dayHtml = `<div class="font-semibold text-sm ${isoDate === todayIso ? 'text-indigo-600' : 'text-gray-800'}">${day}</div>`;

                const planEntry = studyPlan.find(entry => entry.date === isoDate);

                if (planEntry) {
                    dayHtml += `<div class="mt-1 p-1 ${planEntry.colorClass} rounded-md text-xs font-medium truncate" data-iso-date="${isoDate}" title="${planEntry.topic}">${planEntry.subject.split('(')[0].trim()}</div>`;
                }

                const examEntries = timelineData.filter(entry => entry.date === isoDate && entry.event.includes("Prova"));
                if (examEntries.length > 0) {
                     examEntries.forEach(exam => {
                        dayHtml += `<div class="mt-1 p-1 bg-red-600 rounded-md text-xs text-white font-bold truncate">${exam.concurso.split(' - ')[1]}</div>`;
                     });
                }

                dayCell.innerHTML = dayHtml;
                dayCell.addEventListener('click', () => showTopicDetails(isoDate));
                calendarDays.appendChild(dayCell);
            }

            // Preencher células vazias no final
            const totalCells = firstDayOfMonth + daysInMonth;
            const remainingCells = 7 - (totalCells % 7);
            if (remainingCells < 7) {
                for (let i = 0; i < remainingCells; i++) {
                     const emptyCell = document.createElement('div');
                     emptyCell.className = 'calendar-day other-month p-2 border-t border-l border-gray-200 bg-gray-50';
                     calendarDays.appendChild(emptyCell);
                }
            }
        }

        function changeMonth(delta) {
            currentCalendarDate.setMonth(currentCalendarDate.getMonth() + delta);
            renderCalendar();
        }

    </script>
</body>
</html>
